<!DOCTYPE html>
<html lang="en-GB" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movies Project | Youssef Sedrak</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>

    <script src="https://unpkg.com/notebookjs@0.6.7/notebook.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/2.0.3/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-python.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism.min.css">
    <script src="https://cdn.jsdelivr.net/gh/jsvine/notebookjs@master/notebook.js"></script>

    <script>
        window.MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']], displayMath: [['$$', '$$']], processEscapes: true },
            options: { ignoreHtmlClass: 'tex2jax_ignore', processHtmlClass: 'tex2jax_process' }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap');
        
        body { font-family: 'Inter', sans-serif; }

        /* Unified Notebook Styling */
        #notebook-container { padding: 1.5rem; }
        .nb-cell { margin-bottom: 2.5rem; }
        
        .nb-code-cell, .custom-data-section { 
            background: #f8fafc; 
            border: 1px solid #e2e8f0; 
            border-radius: 12px; 
            overflow: hidden;
            margin-top: 0.75rem;
        }
        
        .nb-markdown-cell { padding: 0 0.5rem; line-height: 1.8; color: #334155; }
        .nb-markdown-cell h1, .nb-markdown-cell h2 { font-weight: 800; color: #0f172a; margin-top: 2rem; margin-bottom: 1rem; letter-spacing: -0.025em; }
        .nb-markdown-cell h1 { font-size: 2.25rem; border-bottom: 2px solid #f1f5f9; padding-bottom: 0.5rem; }
        
        pre[class*="language-"] { margin: 0 !important; background: transparent !important; font-family: 'Fira Code', monospace !important; font-size: 14px !important; padding: 1.25rem !important; }

        /* Output & DataTable Styling */
        .nb-output, .dataTables_wrapper {
            padding: 1.25rem;
            background: white;
            border-top: 1px solid #f1f5f9;
            font-family: 'Fira Code', monospace;
            font-size: 13px;
            overflow-x: auto;
        }

        table.dataTable, .nb-output table {
            width: 100% !important;
            border-collapse: collapse !important;
            margin: 1rem 0 !important;
            border: 1px solid #e2e8f0 !important;
        }
        table.dataTable thead th {
            background: #f8fafc !important;
            border: 1px solid #e2e8f0 !important;
            color: #475569 !important;
            padding: 10px !important;
            font-weight: 600 !important;
            text-align: left;
        }
        table.dataTable td {
            border: 1px solid #e2e8f0 !important;
            padding: 8px 12px !important;
            color: #64748b !important;
        }

        /* Pagination & Info Controls */
        .dataTables_info {
            padding-top: 1.5rem !important;
            color: #94a3b8 !important;
            font-size: 12px !important;
            font-family: 'Inter', sans-serif;
        }

        .dataTables_paginate {
            padding-top: 1rem !important;
            display: flex !important;
            gap: 4px !important;
            align-items: center !important;
            justify-content: flex-start !important;
            font-family: 'Inter', sans-serif !important;
            flex-wrap: wrap;
        }

        .dataTables_wrapper .dataTables_paginate .paginate_button {
            padding: 4px 10px !important;
            border-radius: 8px !important;
            border: 1px solid #e2e8f0 !important;
            background: white !important;
            color: #475569 !important;
            font-size: 12px !important;
            font-weight: 500 !important;
            cursor: pointer !important;
            transition: all 0.2s ease;
            min-width: 32px;
            text-align: center;
        }

        .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
            background: #f1f5f9 !important;
            border-color: #cbd5e1 !important;
            color: #0f172a !important;
        }

        .dataTables_wrapper .dataTables_paginate .paginate_button.current {
            background: #0f172a !important;
            color: white !important;
            border-color: #0f172a !important;
        }

        .dataTables_wrapper .dataTables_paginate .paginate_button.disabled {
            opacity: 0.4 !important;
            cursor: default !important;
        }

        .dataTables_wrapper .dataTables_paginate .ellipsis {
            padding: 0 4px;
            color: #cbd5e1;
        }

        /* Mobile specific adjustments */
        @media (max-width: 640px) {
            .dataTables_paginate { justify-content: center !important; }
            .dataTables_info { text-align: center !important; }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">

    <nav class="fixed top-0 w-full z-50 bg-white/80 backdrop-blur-md border-b border-slate-100 py-4">
        <div class="max-w-6xl mx-auto px-6 flex justify-between items-center">
            <a href="index.html" class="flex items-center gap-2 text-sm font-bold text-slate-600 hover:text-blue-600 transition-colors">
                <i data-lucide="arrow-left" class="w-4 h-4"></i> Back to Portfolio
            </a>
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 bg-slate-900 text-white flex items-center justify-center font-bold rounded text-xs">YS</div>
                <span class="text-xs font-bold uppercase tracking-widest text-slate-400 md:block hidden">Udacity | Professional Track | 2<sup>nd</sup> Milestone</span>
            </div>
        </div>
    </nav>

    <header class="pt-32 pb-16 bg-white border-b border-slate-200">
        <div class="max-w-6xl mx-auto px-6">
            <div class="inline-block px-3 py-1 bg-blue-50 text-blue-700 text-[10px] font-bold uppercase tracking-widest rounded-full mb-4">
                Dataset & Analysis
            </div>
            <h1 class="text-5xl font-extrabold tracking-tighter text-slate-900 mb-6">Movies Data Analysis</h1>
            <p class="text-lg text-slate-600 max-w-3xl leading-relaxed">
                Technical workflow for the TMDB dataset, featuring a raw data preview and the final analysis notebook.
            </p>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-6 py-16 space-y-24">

        <section id="dataset">
            <div class="nb-markdown-cell">
                <h2 class="text-2xl font-bold flex items-center gap-3">
                    <i data-lucide="database" class="w-6 h-6 text-slate-400"></i> Raw Data Preview
                </h2>
                <p class="mb-4">Initial inspection of the source dataset (First 1,000 entries).</p>
            </div>

            <div class="custom-data-section shadow-sm">
                <div class="px-5 py-3 border-b border-slate-200 bg-slate-50 flex justify-between items-center">
                    <code class="text-xs text-blue-600 font-medium">df_raw = pd.read_csv('tmdb_movies_original.csv')</code>
                    <a href="assets/tmdb_movies_original.csv" download class="text-[10px] uppercase tracking-wider font-bold text-slate-400 hover:text-blue-600 transition-colors">Download CSV</a>
                </div>
                
                <div id="loading-state" class="p-20 text-center text-slate-400">
                    <div class="animate-spin inline-block w-6 h-6 border-2 border-current border-t-transparent text-blue-600 rounded-full mb-2"></div>
                </div>

                <div class="overflow-x-auto">
                    <table id="moviesTable" class="display w-full hidden">
                        <thead><tr id="table-headers"></tr></thead>
                        <tbody id="table-body"></tbody>
                    </table>
                </div>
            </div>
        </section>

        <section id="notebook-viewer">
            <div class="nb-markdown-cell">
                <h2 class="text-2xl font-bold flex items-center gap-3">
                    <i data-lucide="file-code" class="w-6 h-6 text-slate-400"></i> Analysis Notebook
                </h2>
            </div>
            <div class="nb-code-cell shadow-sm min-h-[600px]">
                <div id="notebook-loading" class="p-32 text-center">
                    <div class="animate-spin inline-block w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full mb-4"></div>
                    <p class="text-slate-500 text-sm">Loading movie_project.ipynb...</p>
                </div>
                <div id="notebook-container" class="tex2jax_process"></div>
            </div>
        </section>

    </main>

    <footer class="py-12 bg-white border-t border-slate-100 text-center">
        <p class="text-[10px] font-black text-slate-400 tracking-[0.4em] uppercase">© 2026 YOUSSEF SEDRAK • DATA ANALYSIS PORTFOLIO</p>
    </footer>

    <script>
        lucide.createIcons();
        const csvFilePath = 'assets/tmdb_movies_original.csv';
        const notebookPath = 'assets/udacity_projects/movie_project.ipynb';

        $(document).ready(function() {
            // 1. DataTable with 4-button limit
            Papa.parse(csvFilePath, {
                download: true, header: true, skipEmptyLines: true,
                complete: function(results) {
                    const data = results.data.slice(0, 1000);
                    if(data.length > 0) {
                        const headers = Object.keys(data[0]);
                        const headerRow = document.getElementById('table-headers');
                        headers.forEach(h => { const th = document.createElement('th'); th.textContent = h; headerRow.appendChild(th); });

                        const tableBody = document.getElementById('table-body');
                        data.forEach(row => {
                            const tr = document.createElement('tr');
                            headers.forEach(h => {
                                const td = document.createElement('td');
                                const content = row[h] || "";
                                td.textContent = content.length > 25 ? content.substring(0, 25) + "..." : content;
                                tr.appendChild(td);
                            });
                            tableBody.appendChild(tr);
                        });

                        $('#loading-state').hide();
                        
                        // Set numbers length to 4 to prevent mobile clashing
                        $.fn.DataTable.ext.pager.numbers_length = 6;

                        $('#moviesTable').removeClass('hidden').DataTable({
                            "pageLength": 10,
                            "scrollX": true,
                            "dom": 'rtip',
                            "pagingType": "simple_numbers",
                            "language": {
                                "paginate": {
                                    "previous": "<i data-lucide='chevron-left' class='w-4 h-4'></i>",
                                    "next": "<i data-lucide='chevron-right' class='w-4 h-4'></i>"
                                }
                            },
                            "drawCallback": function() {
                                lucide.createIcons();
                            }
                        });
                    }
                }
            });

            // 2. Notebook Logic
            fetch(notebookPath).then(res => res.json()).then(data => {
                const nbParser = (typeof notebook !== 'undefined') ? notebook : nb;
                const rendered = nbParser.parse(data).render();
                $('#notebook-loading').hide();
                const container = document.getElementById('notebook-container');
                container.appendChild(rendered);
                
                if (window.Prism) Prism.highlightAll();
                if (window.MathJax?.typesetPromise) window.MathJax.typesetPromise([container]);
            }).catch(err => {
                $('#notebook-loading').html(`<p class="p-10 text-red-500 text-center">Failed to render notebook file.</p>`);
            });
        });
    </script>
</body>
</html>